{
   "$schema":"http://json-schema.org/draft-07/schema",
   "$id":"https://standards-ontotest.oftrust.net/v2/Schema/DataProductOutput/Forecast/Price/Electricity",
   "type":"object",
   "title":"Electricity data product output schema",
   "description":"Core schema for validation electricity data product output.",
   "required":[
      "@context",
      "data",
      "signature"
   ],
   "properties":{
      "@context":{
         "$id":"#/properties/@context",
         "type":"string",
         "title":"JSON-LD context url",
         "description":"JSON-LD context url with terms required to understand sensor data product content.",
         "const":"https://standards-ontotest.oftrust.net/v2/Context/DataProductOutput/Forecast/Price/Electricity/"
      },
      "data":{
         "$id":"#/properties/data",
         "type":"object",
         "title":"Electricity data product output",
         "description":"",
         "examples":[
            {
               "forecasts":[
                  {
                     "@type":"ForecastElectricityPriceMWH",
                     "period":"01.01.2015/02.01.2015",
                     "pricePlans":[
                        {
                           "@type":"PricePlan",
                           "currency":"EUR",
                           "period":"01.01.2015T00:00/1h",
                           "rate":"16.5"
                        },
                        {
                           "@type":"PricePlan",
                           "currency":"EUR",
                           "period":"01.01.2015T01:00/1h",
                           "rate":"18.5"
                        },
                        {
                           "@type":"PricePlan",
                           "currency":"EUR",
                           "period":"01.01.2015T02:00/1h",
                           "rate":"14.5"
                        }
                     ]
                  }
               ]
            }
         ],
         "required":[
            "forecasts"
         ],
         "properties":{
            "forecasts":{
               "$id":"#/properties/data/properties/forecasts",
               "type":"array",
               "title":"Forecasts",
               "description":"Actual forecasts.",
               "properties":{
                  "required":[
                     "@type",
                     "period",
                     "pricePlans"
                  ],
                  "properties":{
                     "@type":{
                        "$id":"#/properties/data/properties/forecasts/properties/@type",
                        "type":"string",
                        "title":"Forecasts type",
                        "description":"",
                        "examples":[
                           "ForecastElectricityPriceMWH"
                        ]
                     },
                     "period":{
                        "$id":"#/properties/data/properties/forecasts/properties/period",
                        "type":"string",
                        "title":"",
                        "description":"",
                        "examples":[
                           "01.01.2015/02.01.2015"
                        ]
                     },
                     "pricePlans":{
                        "$id":"#/properties/data/properties/forecasts/properties/PricePlan",
                        "type":"array",
                        "minproperties":1,
                        "title":"",
                        "description":"",
                        "examples":[
                           [
                              {
                                 "@type":"PricePlan",
                                 "currency":"EUR",
                                 "period":"01.01.2015T00:00/1h",
                                 "rate":"16.5"
                              },
                              {
                                 "@type":"PricePlan",
                                 "currency":"EUR",
                                 "period":"01.01.2015T01:00/1h",
                                 "rate":"18.5"
                              }
                           ]
                        ],
                        "properties":{
                           "$id":"#/properties/data/properties/forecasts/properties/PricePlan/properties",
                           "type":"object",
                           "title":"",
                           "description":"",
                           "required":[
                              "@type",
                              "currency",
                              "period",
                              "rate"
                           ],
                           "properties":{
                              "@type":{
                                 "$id":"#/properties/data/properties/forecasts/properties/PricePlan/properties/@type",
                                 "type":"string",
                                 "title":"",
                                 "description":"",
                                 "enum":[
                                    "PricePlan"
                                 ]
                              },
                              "currency":{
                                 "$id":"#/properties/data/properties/forecasts/properties/PricePlan/properties/currency",
                                 "type":"string",
                                 "title":"Currency",
                                 "description":"Currency used for rate"
                              },
                              "period":{
                                 "$id":"#/properties/data/properties/forecasts/properties/PricePlan/properties/period",
                                 "type":"string",
                                 "title":"",
                                 "description":""
                              },
                              "rate":{
                                 "$id":"#/properties/data/properties/forecasts/properties/PricePlan/properties/rate",
                                 "type":"string",
                                 "title":"Rate",
                                 "description":"Rate value"
                              }
                           }
                        }
                     }
                  }
               }
            }
         }
      },
      "signature":{
         "$id":"#/properties/signature",
         "type":"object",
         "title":"Signature",
         "required":[
            "type",
            "created",
            "creator",
            "signatureValue"
         ],
         "properties":{
            "type":{
               "$id":"#/properties/signature/properties/type",
               "type":"string",
               "title":"Signature type",
               "examples":[
                  "RsaSignature2018"
               ]
            },
            "created":{
               "$id":"#/properties/signature/properties/created",
               "type":"string",
               "title":"Signature creation date and time",
               "format":"date-time",
               "examples":[
                  "2018-11-22T12:00:00Z"
               ]
            },
            "creator":{
               "$id":"#/properties/signature/properties/creator",
               "type":"string",
               "title":"Signature creator",
               "examples":[
                  "https://example.org/creator/public_key.pub"
               ]
            },
            "signatureValue":{
               "$id":"#/properties/signature/properties/signatureValue",
               "type":"string",
               "title":"Generated signature",
               "examples":[
                  "eyJ0eXAiOiJK...gFWFOEjXk"
               ]
            }
         }
      }
   }
}